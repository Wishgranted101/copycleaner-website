<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CopyCleaner - Clean Messy Text from PDFs, Emails & AI Tools Instantly</title>
    <meta name="description" content="Remove extra spaces, fix line breaks, and clean messy text from PDFs, emails, ChatGPT, and websites in one click. Free online text formatting tool.">
    <meta name="keywords" content="remove text formatting, clean copied text, fix pdf text, text cleaner, format text, remove spaces, fix line breaks">
   
    <!-- Open Graph -->
    <meta property="og:title" content="CopyCleaner - The TinyPNG of Text Formatting">
    <meta property="og:description" content="Clean messy text from PDFs, emails, AI tools, and websites in one click.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://copycleaner.co">
   
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
   
    <style>
        /* Smooth scrolling with offset for sticky header */
        html {
            scroll-behavior: smooth;
            scroll-padding-top: 100px; /* Accounts for sticky header height */
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .animate-in {
            animation: slideDown 0.3s ease-out;
        }
       
        /* Hover animations for cards */
        .hover-lift {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .hover-lift:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
       
        /* Subtle shake on hover for text areas */
        @keyframes subtleShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-2px); }
            75% { transform: translateX(2px); }
        }
        .text-box-hover {
            transition: all 0.3s ease;
        }
        .text-box-hover:hover {
            animation: subtleShake 0.5s ease-in-out;
            box-shadow: 0 10px 15px -3px rgba(99, 102, 241, 0.3), 0 4px 6px -2px rgba(99, 102, 241, 0.2);
            border-color: rgb(99, 102, 241);
        }
       
        /* Pulse effect for primary button */
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .btn-pulse:hover {
            animation: pulse 0.6s ease-in-out infinite;
        }
       
        /* Magical shimmer effect for cleaning */
        @keyframes shimmer {
            0% { background-position: -200px 0; }
            100% { background-position: 200px 0; }
        }
       
        #cleaningLoader {
            font-style: italic;
            font-weight: 600;
            background: linear-gradient(90deg, #4F46E5, #764BA2, #4F46E5);
            background-size: 200px 100%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: shimmer 1.2s infinite linear;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
       
        #cleaningLoader.show {
            opacity: 1;
        }

        /* Progress bar animation */
        @keyframes fillProgress {
            from { width: 0%; }
            to { width: 100%; }
        }
        
        #progressBar {
            height: 4px;
            background: linear-gradient(90deg, #4F46E5, #764BA2);
            border-radius: 2px;
            width: 0%;
        }
        
        #progressBar.show {
            animation: fillProgress 4s ease-out forwards;
        }
       
        /* CTA button sparkle effect */
        @keyframes sparkle {
            0%, 100% {
                box-shadow: 0 0 20px rgba(79, 70, 229, 0.4),
                           0 0 40px rgba(118, 75, 162, 0.2);
            }
            50% {
                box-shadow: 0 0 30px rgba(79, 70, 229, 0.6),
                           0 0 60px rgba(118, 75, 162, 0.4);
            }
        }
       
        .btn-sparkle:hover {
            animation: sparkle 1s ease-in-out infinite;
            transform: scale(1.05);
        }
       
        .btn-sparkle {
            transition: all 0.3s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .fade-in-up {
            animation: fadeInUp 0.6s ease-out;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50">
   
    <!-- Header -->
    <header class="border-b bg-white/80 backdrop-blur-sm sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
            <!-- Logo -->
            <div class="flex items-center gap-2">
                <img src="/copycleaner-logo.png" alt="CopyCleaner Logo" class="h-16 w-auto">
                <h1 class="text-2xl font-bold text-gray-900">CopyCleaner.co</h1>
            </div>
            
            <!-- Desktop Navigation -->
            <div class="hidden md:flex items-center gap-4">
                <a href="#features" class="text-gray-600 hover:text-gray-900 font-medium cursor-pointer">Features</a>
                <a href="#how-it-works" class="text-gray-600 hover:text-gray-900 font-medium cursor-pointer">How It Works</a>
            </div>

            <!-- Mobile Hamburger Menu Button -->
            <button id="mobileMenuBtn" onclick="toggleMobileMenu()" class="md:hidden flex items-center justify-center w-10 h-10 rounded-lg hover:bg-gray-100 transition-colors" aria-label="Menu">
                <svg id="hamburgerIcon" class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
                <svg id="closeIcon" class="w-6 h-6 text-gray-700 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
        </div>

        <!-- Mobile Menu Dropdown -->
        <div id="mobileMenu" class="hidden md:hidden bg-white border-t border-gray-200 animate-in">
            <nav class="max-w-6xl mx-auto px-4 py-4 flex flex-col gap-3">
                <a href="#features" onclick="closeMobileMenu()" class="text-gray-700 hover:text-indigo-600 font-medium py-2 px-3 rounded-lg hover:bg-gray-50 transition-colors">Features</a>
                <a href="#how-it-works" onclick="closeMobileMenu()" class="text-gray-700 hover:text-indigo-600 font-medium py-2 px-3 rounded-lg hover:bg-gray-50 transition-colors">How It Works</a>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-20">
        <div class="max-w-6xl mx-auto px-4 text-center">
            <h2 class="text-5xl md:text-6xl font-bold mb-6 leading-tight">
                The TinyPNG of Text Formatting
            </h2>
            <p class="text-xl md:text-2xl mb-8 opacity-95 max-w-3xl mx-auto">
                Remove extra spaces, fix line breaks, and make your text look clean and professional — instantly.
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
                <button onclick="scrollToApp()" class="bg-white text-indigo-600 px-8 py-4 rounded-lg font-bold text-lg hover:bg-gray-100 transition-all transform hover:scale-105 flex items-center gap-2">
                    Try Free Now
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                </button>
                <button onclick="showWaitlistModal()" class="bg-indigo-800 text-white px-8 py-4 rounded-lg font-bold text-lg hover:bg-indigo-900 transition-all border-2 border-white/30">
                    Get Early Access
                </button>
            </div>
            <p class="mt-6 text-sm opacity-80">
                ✓ No signup required • ✓ Privacy-first • ✓ Processes locally in your browser
            </p>
        </div>
    </section>

    <!-- Main Tool Section -->
    <section id="app-tool" class="py-12 bg-white">
        <div class="max-w-6xl mx-auto px-4">
            <div class="text-center mb-8">
                <h3 class="text-3xl font-bold text-gray-900 mb-3">Try It Now - Paste Your Messy Text</h3>
                <div class="flex gap-3 justify-center flex-wrap">
                    <button onclick="loadDemo()" class="text-indigo-600 hover:text-indigo-700 font-semibold text-sm underline">
                        📄 Load Short Demo
                    </button>
                    <button onclick="loadLargeDemo()" class="text-purple-600 hover:text-purple-700 font-semibold text-sm underline">
                        📚 Load Large Demo (Real PDF Example)
                    </button>
                    <button id="resetBtn" onclick="resetDailyLimit()" class="text-green-600 hover:text-green-700 font-semibold text-sm underline hidden">
                        🔄 Reset Daily Limit (Testing)
                    </button>
                </div>
            </div>

            <!-- Usage Counter -->
            <div id="usageCounter" class="text-center mb-6">
                <p class="text-sm text-gray-500">
                    Free uses today: <span id="usesLeft" class="font-semibold text-indigo-600">3 of 3 remaining</span>
                </p>
            </div>
            <div id="limitReached" class="text-center mb-6 bg-red-50 border border-red-200 rounded-lg p-3 max-w-md mx-auto hidden">
                <p class="text-sm text-red-600 font-semibold">
                    ⚠️ Daily limit reached. Come back tomorrow or join the waitlist for early access!
                </p>
            </div>

            <!-- Tool Interface -->
            <div class="grid md:grid-cols-2 gap-6 mb-8">
                <div class="bg-white rounded-xl shadow-lg border-2 border-gray-200 p-6 text-box-hover">
                    <div class="flex items-center justify-between mb-3">
                        <label class="text-sm font-semibold text-gray-700 flex items-center gap-2">
                            <span class="text-red-500">📄</span> MESSY TEXT
                        </label>
                        <span id="charCount" class="text-xs text-gray-500">0/5,000</span>
                    </div>
                    <textarea
                        id="inputText"
                        placeholder="Paste your messy text here...

Try copying text from a PDF or email!"
                        class="w-full h-64 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none font-mono text-sm"
                    ></textarea>
                    <button
                        id="cleanBtn"
                        onclick="handleClean()"
                        class="w-full mt-4 bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-all font-bold flex items-center justify-center gap-2 text-lg btn-pulse"
                    >
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                        Clean My Text ✨
                    </button>
                   
                    <!-- Progress Bar -->
                    <div id="progressContainer" class="mt-3 hidden">
                        <div class="bg-gray-200 rounded-full overflow-hidden">
                            <div id="progressBar"></div>
                        </div>
                        <div id="cleaningLoader" class="text-center mt-2 text-sm">
                            ✨ Cleaning your text...
                        </div>
                    </div>
                   
                    <!-- Privacy Message -->
                    <p class="text-center text-xs text-gray-500 mt-2">
                        🔒 Your text never leaves your device — cleaning happens locally
                    </p>
                </div>

                <div class="bg-white rounded-xl shadow-lg border-2 border-gray-200 p-6 text-box-hover">
                    <div class="flex items-center justify-between mb-3">
                        <label class="text-sm font-semibold text-gray-700 flex items-center gap-2">
                            <span class="text-green-500">✨</span> CLEAN TEXT
                        </label>
                        <button
                            id="copyBtn"
                            onclick="handleCopy()"
                            class="text-sm bg-indigo-600 text-white px-3 py-1.5 rounded hover:bg-indigo-700 flex items-center gap-1 font-medium hidden"
                        >
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>
                            Copy
                        </button>
                    </div>
                    <div id="outputText" class="w-full h-64 p-4 border-2 border-dashed border-gray-300 rounded-lg bg-gradient-to-br from-green-50 to-blue-50 overflow-auto font-mono text-sm whitespace-pre-wrap">
                        <div class="text-gray-400 text-center mt-20">
                            <p class="mb-2">👆 Click "Clean My Text" to see the magic!</p>
                            <p class="text-xs">Watch messy text transform instantly</p>
                        </div>
                    </div>
                   
                    <div id="statsBox" class="mt-4 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-4 border border-indigo-200 hidden">
                        <p class="text-sm font-semibold text-gray-700 mb-2">✅ Cleaning Results:</p>
                        <div class="grid grid-cols-3 gap-2 text-center">
                            <div class="bg-white rounded-lg p-2 border border-indigo-100">
                                <p id="statSpaces" class="text-2xl font-bold text-indigo-600">0</p>
                                <p class="text-xs text-gray-600">spaces</p>
                            </div>
                            <div class="bg-white rounded-lg p-2 border border-purple-100">
                                <p id="statBreaks" class="text-2xl font-bold text-purple-600">0</p>
                                <p class="text-xs text-gray-600">breaks</p>
                            </div>
                            <div class="bg-white rounded-lg p-2 border border-pink-100">
                                <p id="statChars" class="text-2xl font-bold text-pink-600">0</p>
                                <p class="text-xs text-gray-600">cleaned</p>
                            </div>
                        </div>

                        <!-- Feedback Widget -->
                        <div id="feedbackWidget" class="mt-4 pt-4 border-t border-indigo-200">
                            <p class="text-sm font-semibold text-gray-700 mb-2 text-center">Was this tool helpful?</p>
                            <div class="flex gap-3 justify-center">
                                <button onclick="selectFeedback('positive')" id="thumbsUpBtn" class="flex items-center gap-2 px-4 py-2 bg-green-50 hover:bg-green-100 border-2 border-green-200 rounded-lg transition-all">
                                    <svg class="w-5 h-5 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"></path>
                                    </svg>
                                    <span class="text-sm font-medium text-green-700">Yes</span>
                                </button>
                                <button onclick="selectFeedback('negative')" id="thumbsDownBtn" class="flex items-center gap-2 px-4 py-2 bg-red-50 hover:bg-red-100 border-2 border-red-200 rounded-lg transition-all">
                                    <svg class="w-5 h-5 text-red-600" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M18 9.5a1.5 1.5 0 11-3 0v-6a1.5 1.5 0 013 0v6zM14 9.667v-5.43a2 2 0 00-1.105-1.79l-.05-.025A4 4 0 0011.055 2H5.64a2 2 0 00-1.962 1.608l-1.2 6A2 2 0 004.44 12H8v4a2 2 0 002 2 1 1 0 001-1v-.667a4 4 0 01.8-2.4l1.4-1.866a4 4 0 00.8-2.4z"></path>
                                    </svg>
                                    <span class="text-sm font-medium text-red-700">No</span>
                                </button>
                            </div>
                            
                            <!-- Feedback Text Box -->
                            <div id="feedbackTextBox" class="hidden mt-4">
                                <label class="text-xs text-gray-600 mb-1 block">Tell us more (optional):</label>
                                <textarea 
                                    id="feedbackTextarea" 
                                    maxlength="200" 
                                    placeholder="What did you like or what could be improved?"
                                    class="w-full p-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none"
                                    rows="3"
                                ></textarea>
                                <div class="flex items-center justify-between mt-2">
                                    <span id="feedbackCharCount" class="text-xs text-gray-500">0/200</span>
                                    <button 
                                        onclick="submitFeedback()" 
                                        class="bg-indigo-600 text-white px-4 py-1.5 rounded-lg text-xs font-semibold hover:bg-indigo-700 transition-colors"
                                    >
                                        Submit Feedback
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Before/After Example -->
            <div class="bg-white rounded-xl shadow-lg border-2 border-indigo-200 p-8">
                <h4 class="text-2xl font-bold text-gray-900 mb-6 text-center">Why CopyCleaner > Cmd+Shift+V</h4>
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <div class="flex items-center gap-2 mb-3">
                            <span class="text-2xl">❌</span>
                            <p class="text-sm font-bold text-red-600">Cmd+Shift+V doesn't fix this</p>
                        </div>
                        <div class="bg-red-50 border-2 border-red-300 rounded-lg p-4 font-mono text-sm">
                            <span class="text-red-700">This    is   badly<br>spaced    text from<br>a    PDF   document</span>
                        </div>
                    </div>
                    <div>
                        <div class="flex items-center gap-2 mb-3">
                            <span class="text-2xl">✅</span>
                            <p class="text-sm font-bold text-green-600">CopyCleaner fixes it perfectly</p>
                        </div>
                        <div class="bg-green-50 border-2 border-green-300 rounded-lg p-4 font-mono text-sm">
                            <span class="text-green-700">This is badly spaced text from a PDF document</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="py-20 bg-gray-50">
        <div class="max-w-6xl mx-auto px-4">
            <h3 class="text-4xl font-bold text-center mb-12 text-gray-900">What CopyCleaner Fixes</h3>
            <div class="grid md:grid-cols-4 gap-8">
                <div class="bg-white p-6 rounded-xl shadow-md hover-lift">
                    <div class="text-4xl mb-4">🤖</div>
                    <h4 class="text-xl font-bold mb-2 text-gray-900">AI Text Formatting</h4>
                    <p class="text-gray-600">Fix messy text copied from ChatGPT, Claude, Jasper, and other AI tools. Removes hidden spaces, weird quotes, and markdown junk in one click.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md hover-lift">
                    <div class="text-4xl mb-4">📄</div>
                    <h4 class="text-xl font-bold mb-2 text-gray-900">PDF Text Problems</h4>
                    <p class="text-gray-600">Turn broken PDF text into clean, readable paragraphs. No more random line breaks or missing spaces.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md hover-lift">
                    <div class="text-4xl mb-4">📧</div>
                    <h4 class="text-xl font-bold mb-2 text-gray-900">Email Formatting</h4>
                    <p class="text-gray-600">Erase messy email threads, quoted replies, and signatures. Get plain, professional text instantly.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md hover-lift">
                    <div class="text-4xl mb-4">🌐</div>
                    <h4 class="text-xl font-bold mb-2 text-gray-900">Web Content</h4>
                    <p class="text-gray-600">Strip out HTML tags, inline styles, and web markup. Perfect for pasting clean text into blogs, CMS, or Notion.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md hover-lift">
                    <div class="text-4xl mb-4">📝</div>
                    <h4 class="text-xl font-bold mb-2 text-gray-900">Word & Docs Formatting</h4>
                    <p class="text-gray-600">Fix Word and Google Docs text that breaks when pasted. Removes font styles, list indents, and invisible code.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md hover-lift">
                    <div class="text-4xl mb-4">💼</div>
                    <h4 class="text-xl font-bold mb-2 text-gray-900">Resume & Document Cleanup</h4>
                    <p class="text-gray-600">Make your resume, cover letter, or report look clean again. No tabs, no weird spacing—just polished text.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md hover-lift">
                    <div class="text-4xl mb-4">💬</div>
                    <h4 class="text-xl font-bold mb-2 text-gray-900">Smart Quotes</h4>
                    <p class="text-gray-600">Converts curly quotes and apostrophes to regular ones for consistent formatting.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md hover-lift">
                    <div class="text-4xl mb-4">⚡</div>
                    <h4 class="text-xl font-bold mb-2 text-gray-900">Extra Spaces & Breaks</h4>
                    <p class="text-gray-600">Removes multiple spaces, tabs, invisible characters, and awkward line breaks instantly.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works -->
    <section id="how-it-works" class="py-20 bg-white">
        <div class="max-w-4xl mx-auto px-4 text-center">
            <h3 class="text-4xl font-bold mb-12 text-gray-900">How It Works</h3>
            <div class="grid md:grid-cols-3 gap-8">
                <div>
                    <div class="w-16 h-16 bg-indigo-600 text-white rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4">1</div>
                    <h4 class="text-xl font-bold mb-2 text-gray-900">Paste Text</h4>
                    <p class="text-gray-600">Copy messy text from anywhere and paste it into CopyCleaner</p>
                </div>
                <div>
                    <div class="w-16 h-16 bg-purple-600 text-white rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4">2</div>
                    <h4 class="text-xl font-bold mb-2 text-gray-900">Click Clean</h4>
                    <p class="text-gray-600">Our tool instantly analyzes and fixes all formatting issues</p>
                </div>
                <div>
                    <div class="w-16 h-16 bg-pink-600 text-white rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4">3</div>
                    <h4 class="text-xl font-bold mb-2 text-gray-900">Copy Result</h4>
                    <p class="text-gray-600">Get perfectly formatted text ready to use anywhere</p>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="py-20 bg-gray-50">
        <div class="max-w-4xl mx-auto px-4">
            <h3 class="text-4xl font-bold text-center mb-12 text-gray-900">Frequently Asked Questions</h3>
            <div class="space-y-4" id="faqSection"></div>
        </div>
    </section>

    <!-- Final CTA -->
    <section class="py-20 bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-center">
        <div class="max-w-4xl mx-auto px-4">
            <h3 class="text-4xl font-bold mb-6">Ready for the Browser Extension?</h3>
            <p class="text-xl mb-8 opacity-95">
                Join the waitlist for early access to Chrome & Firefox extensions with unlimited cleaning, keyboard shortcuts, and paste history
            </p>
            <button onclick="showWaitlistModal()" class="bg-white text-indigo-600 px-8 py-4 rounded-lg font-bold text-lg hover:bg-gray-100 transition-all inline-flex items-center gap-2 btn-sparkle">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                Join Waitlist - FREE 3 Month Trial
            </button>
            <p class="mt-4 text-sm opacity-75">Get early access • Then $4.99/mo or $39/year</p>
        </div>
    </section>

    <!-- Waitlist Modal -->
    <div id="waitlistModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 hidden overflow-y-auto" onclick="handleModalBackdropClick(event)">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 relative animate-in my-8 max-h-[90vh] overflow-y-auto" onclick="event.stopPropagation()">
            <button onclick="hideWaitlistModal()" class="sticky top-0 right-0 float-right text-gray-400 hover:text-gray-600 text-2xl font-bold w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors z-10 bg-white" aria-label="Close">
                ✕
            </button>
           
            <div class="text-center">
                <div class="w-16 h-16 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="text-white w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                </div>
               
                <h3 class="text-2xl font-bold text-gray-900 mb-3">
                    Join Extension Waitlist
                </h3>
               
                <p class="text-gray-600 mb-6">
                    Get early access to our Chrome & Firefox extensions with unlimited cleaning and premium features.
                </p>

                <div class="bg-gradient-to-br from-green-50 to-blue-50 rounded-lg p-4 mb-6 text-left border border-green-200">
                    <p class="font-bold text-gray-900 mb-3 flex items-center gap-2">
                        <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                        Waitlist Benefits:
                    </p>
                    <ul class="space-y-2 text-sm text-gray-700">
                        <li class="flex items-start gap-2">
                            <span class="text-green-500 font-bold">✓</span>
                            <span><strong>FREE 3-month trial</strong> when extension launches</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-green-500 font-bold">✓</span>
                            <span><strong>Early access</strong> before public release</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-green-500 font-bold">✓</span>
                            <span><strong>Unlimited</strong> text cleaning</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-green-500 font-bold">✓</span>
                            <span><strong>Right-click</strong> context menu to clean any text</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-green-500 font-bold">✓</span>
                            <span><strong>Keyboard shortcuts</strong> (Cmd+Opt+V)</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-green-500 font-bold">✓</span>
                            <span><strong>Paste history</strong> (last 50 cleans)</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-green-500 font-bold">✓</span>
                            <span><strong>Works offline</strong></span>
                        </li>
                    </ul>
                </div>

                <form id="waitlistForm" class="space-y-4">
                    <div class="text-left">
                        <label class="block text-sm font-semibold text-gray-700 mb-1">Email Address</label>
                        <input 
                            type="email" 
                            id="waitlistEmail" 
                            required
                            placeholder="you@example.com"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                        >
                    </div>

                    <div class="text-left">
                        <label class="block text-sm font-semibold text-gray-700 mb-2">Preferred Browser</label>
                        <div class="space-y-2">
                            <label class="flex items-center gap-2 cursor-pointer">
                                <input type="radio" name="browser" value="Chrome" required class="w-4 h-4 text-indigo-600">
                                <span class="text-gray-700">Chrome</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer">
                                <input type="radio" name="browser" value="Firefox" class="w-4 h-4 text-indigo-600">
                                <span class="text-gray-700">Firefox</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer">
                                <input type="radio" name="browser" value="Both" class="w-4 h-4 text-indigo-600">
                                <span class="text-gray-700">Both</span>
                            </label>
                        </div>
                    </div>

                    <button 
                        type="submit"
                        class="w-full bg-indigo-600 text-white py-3 rounded-lg font-bold hover:bg-indigo-700 transition-colors text-lg"
                    >
                        Join Waitlist - FREE 3 Months
                    </button>
                </form>

                <p class="text-xs text-gray-500 mt-4">
                    After 3 months: $4.99/mo or $39/year • Cancel anytime
                </p>
            </div>
        </div>
    </div>

    <!-- Daily Limit Reached Modal -->
    <div id="dailyLimitModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 hidden overflow-y-auto" onclick="handleModalBackdropClick(event, 'dailyLimitModal')">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 relative animate-in my-8 max-h-[90vh] overflow-y-auto" onclick="event.stopPropagation()">
            <button onclick="hideDailyLimitModal()" class="sticky top-0 right-0 float-right text-gray-400 hover:text-gray-600 text-2xl font-bold w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors z-10 bg-white" aria-label="Close">
                ✕
            </button>
           
            <div class="text-center">
                <div class="w-16 h-16 bg-gradient-to-br from-red-500 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="text-white w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                </div>
               
                <h3 class="text-2xl font-bold text-gray-900 mb-3">
                    Daily Limit Reached (3/3)
                </h3>
               
                <p class="text-gray-600 mb-6">
                    You've used all your free cleans for today. Come back tomorrow, or join the waitlist for early access to unlimited cleaning!
                </p>

                <div class="bg-gradient-to-br from-indigo-50 to-purple-50 rounded-lg p-4 mb-6 text-left border border-indigo-200">
                    <p class="font-bold text-gray-900 mb-3 flex items-center gap-2">
                        <svg class="w-5 h-5 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                        Join Extension Waitlist:
                    </p>
                    <ul class="space-y-2 text-sm text-gray-700">
                        <li class="flex items-start gap-2">
                            <span class="text-green-500 font-bold">✓</span>
                            <span><strong>FREE 3-month trial</strong> when extension launches</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-green-500 font-bold">✓</span>
                            <span><strong>Unlimited</strong> cleans per day</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-green-500 font-bold">✓</span>
                            <span><strong>No character limit</strong></span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-green-500 font-bold">✓</span>
                            <span>Early access before everyone else</span>
                        </li>
                    </ul>
                </div>

                <div class="space-y-3">
                    <button 
                        onclick="showWaitlistModal(); hideDailyLimitModal();" 
                        class="w-full bg-indigo-600 text-white py-3 rounded-lg font-bold hover:bg-indigo-700 transition-colors text-lg"
                    >
                        Join Waitlist - Get 3 Months FREE
                    </button>
                    <button 
                        onclick="hideDailyLimitModal()" 
                        class="w-full bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-colors"
                    >
                        Maybe Later
                    </button>
                </div>

                <p class="text-xs text-gray-500 mt-4">
                    Your daily limit resets in 24 hours
                </p>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="border-t bg-white py-8">
        <div class="max-w-6xl mx-auto px-4">
            <div class="text-center mb-6">
                <button onclick="shareWebsite()" class="inline-flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-all font-medium text-sm shadow-md hover:shadow-lg">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path>
                    </svg>
                    Share CopyCleaner
                </button>
            </div>
           
            <!-- Social Media Icons -->
            <div class="flex justify-center gap-4 mb-6">
                <a href="https://x.com/copycleaner_co" target="_blank" rel="noopener noreferrer" class="text-gray-600 hover:text-indigo-600 transition-colors" aria-label="Twitter/X">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path>
                    </svg>
                </a>
                <a href="https://www.instagram.com/copycleaner.co" target="_blank" rel="noopener noreferrer" class="text-gray-600 hover:text-indigo-600 transition-colors" aria-label="Instagram">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/>
                    </svg>
                </a>
                <a href="https://www.tiktok.com/@copycleaner.co" target="_blank" rel="noopener noreferrer" class="text-gray-600 hover:text-indigo-600 transition-colors" aria-label="TikTok">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M19.59 6.69a4.83 4.83 0 01-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 01-5.2 1.74 2.89 2.89 0 012.31-4.64 2.93 2.93 0 01.88.13V9.4a6.84 6.84 0 00-1-.05A6.33 6.33 0 005 20.1a6.34 6.34 0 0010.86-4.43v-7a8.16 8.16 0 004.77 1.52v-3.4a4.85 4.85 0 01-1-.1z"></path>
                    </svg>
                </a>
                <a href="https://www.linkedin.com/company/copycleaner-co/" target="_blank" rel="noopener noreferrer" class="text-gray-600 hover:text-indigo-600 transition-colors" aria-label="LinkedIn">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path>
                    </svg>
                </a>
            </div>
           
            <p class="text-center text-gray-600 text-sm mb-4">© 2025 CopyCleaner.co • Your text never leaves your browser • Built with privacy in mind</p>
            <div class="flex justify-center gap-6 flex-wrap text-sm mb-4">
                <a href="/about.html" class="text-gray-600 hover:text-gray-900">About</a>
                <a href="/blog/" class="text-gray-600 hover:text-gray-900">Blog</a>
                <a href="/privacy.html" class="text-gray-600 hover:text-gray-900">Privacy Policy</a>
                <a href="/terms.html" class="text-gray-600 hover:text-gray-900">Terms of Service</a>
                <a href="/refund.html" class="text-gray-600 hover:text-gray-900">Refund Policy</a>
                <a href="mailto:hello@copycleaner.co" class="text-gray-600 hover:text-gray-900">Contact</a>
            </div>

            <!-- PayPal Donate Link -->
            <div class="flex justify-center">
                <a href="https://www.paypal.com/paypalme/contentmultiply" target="_blank" rel="noopener noreferrer" class="text-gray-600 hover:text-indigo-600 transition-colors text-sm font-medium">
                    Support CopyCleaner ❤️
                </a>
            </div>
        </div>
    </footer>

    <script>
        // State management
        let state = {
            inputText: '',
            outputText: '',
            dailyUses: 0,
            stats: { spaces: 0, breaks: 0, chars: 0 }
        };

        const MAX_DAILY_USES = 3;
        const MAX_CHARS = 5000;

        const demoText = `This    is   badly
spaced    text that
was    copied from
a    PDF   document.

It  has   weird   spacing,
broken   line   breaks,
and "smart quotes" that
need    to   be    fixed.`;

        const largeMessyText = `CHAPTER    1:   THE   BEGINNING

This    is    an   example   of
text   that   was   copied   from
a    badly    formatted    PDF
document.    It    has    many
problems    that    need    to
be    fixed    immediately.

The   spacing   is   completely
wrong,   and   the   line   breaks
happen    in    the    middle    of
sentences    which    makes    it
very    difficult    to    read    and
understand    the    content.

"Smart   quotes"   and   'apostrophes'
also   need   to   be   converted   to
regular   quotes   so   they   work
properly    in    most    systems.`;

        let selectedFeedbackType = null;

        // Initialize
        function init() {
            state.dailyUses = getDailyUses();
            updateUI();
            setupEventListeners();
            renderFAQs();
        }

        function setupEventListeners() {
            document.getElementById('inputText').addEventListener('input', function(e) {
                state.inputText = e.target.value;
                updateCharCount();
            });

            const textarea = document.getElementById('feedbackTextarea');
            if (textarea) {
                textarea.addEventListener('input', function() {
                    const count = this.value.length;
                    document.getElementById('feedbackCharCount').textContent = `${count}/200`;
                });
            }

            // Waitlist form submission
            const waitlistForm = document.getElementById('waitlistForm');
            if (waitlistForm) {
                waitlistForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    submitWaitlist();
                });
            }
        }

        function getDailyUses() {
            const today = new Date().toDateString();
            const stored = localStorage.getItem('copycleaner_data');
            if (stored) {
                try {
                    const data = JSON.parse(stored);
                    if (data.date === today) return data.uses;
                } catch (e) {}
            }
            return 0;
        }

        function saveDailyUses(uses) {
            const today = new Date().toDateString();
            localStorage.setItem('copycleaner_data', JSON.stringify({ date: today, uses }));
        }

        function cleanText(text) {
            let cleaned = text;
            let spacesRemoved = 0;
            let breaksFixed = 0;
            let originalLength = text.length;

            // Remove HTML tags & web content
            cleaned = cleaned.replace(/<style[^>]*>[\s\S]*?<\/style>/gi, '');
            cleaned = cleaned.replace(/<script[^>]*>[\s\S]*?<\/script>/gi, '');
            cleaned = cleaned.replace(/<[^>]+>/g, '');
            cleaned = cleaned.replace(/&nbsp;/g, ' ');
            cleaned = cleaned.replace(/&amp;/g, '&');
            cleaned = cleaned.replace(/&lt;/g, '<');
            cleaned = cleaned.replace(/&gt;/g, '>');
            cleaned = cleaned.replace(/&quot;/g, '"');
            cleaned = cleaned.replace(/&#39;/g, "'");
            cleaned = cleaned.replace(/&[a-z]+;/gi, '');

            // Remove email formatting
            cleaned = cleaned.replace(/^(From|To|Cc|Bcc|Subject|Date|Sent):.*$/gim, '');
            cleaned = cleaned.replace(/^[>|]+.*$/gm, '');
            cleaned = cleaned.replace(/^--\s*$/gm, '');
            cleaned = cleaned.replace(/^_{5,}$/gm, '');
            cleaned = cleaned.replace(/^Sent from my (iPhone|iPad|Android|Galaxy)/gim, '');
            cleaned = cleaned.replace(/^Get Outlook for (iOS|Android)/gim, '');
            cleaned = cleaned.replace(/^This email and any attachments.*$/gim, '');

            // Remove markdown & AI formatting
            cleaned = cleaned.replace(/\*\*\*([^*]+)\*\*\*/g, '$1');
            cleaned = cleaned.replace(/\*\*([^*]+)\*\*/g, '$1');
            cleaned = cleaned.replace(/\*([^*]+)\*/g, '$1');
            cleaned = cleaned.replace(/__([^_]+)__/g, '$1');
            cleaned = cleaned.replace(/_([^_]+)_/g, '$1');
            cleaned = cleaned.replace(/^#{1,6}\s+/gm, '');
            cleaned = cleaned.replace(/```[\s\S]*?```/g, '');
            cleaned = cleaned.replace(/`([^`]+)`/g, '$1');
            cleaned = cleaned.replace(/\[([^\]]+)\]\([^)]+\)/g, '$1');
            cleaned = cleaned.replace(/^[\s]*[-*+]\s+/gm, '');
            cleaned = cleaned.replace(/^[\s]*\d+\.\s+/gm, '');

            // Remove Word/Docs formatting
            cleaned = cleaned.replace(/\t+/g, ' ');
            cleaned = cleaned.replace(/^[\s]*[•●○■□▪▫◆◇►▻]+[\s]*/gm, '');
            cleaned = cleaned.replace(/^[\s]*[①②③④⑤⑥⑦⑧⑨⑩]+[\s]*/gm, '');
            cleaned = cleaned.replace(/^[\s]*Page \d+[\s]*$/gim, '');
            cleaned = cleaned.replace(/^\d+[\s]*$/gm, '');

            // Remove extra spaces
            const spacesBefore = (cleaned.match(/  +/g) || []).join('').length;
            cleaned = cleaned.replace(/[ ]{2,}/g, ' ');
            spacesRemoved = spacesBefore;

            // Fix line breaks
            const beforeBreaks = cleaned;
            cleaned = cleaned.replace(/([a-zA-Z,;:)])\n([a-zA-Z])/g, '$1 $2');
            cleaned = cleaned.replace(/([.!?])\n([a-z])/g, '$1 $2');
            breaksFixed = (beforeBreaks.match(/([a-zA-Z,;:)])\n([a-zA-Z])/g) || []).length;

            // Clean up special characters
            cleaned = cleaned.replace(/[\u200B-\u200D\uFEFF\u00A0]/g, '');
            cleaned = cleaned.replace(/\u00AD/g, '');
            cleaned = cleaned.replace(/[\x00-\x09\x0B\x0C\x0E-\x1F\x7F]/g, '');

            // Convert smart quotes & punctuation
            cleaned = cleaned.replace(/[''‚]/g, "'");
            cleaned = cleaned.replace(/[""„]/g, '"');
            cleaned = cleaned.replace(/[«»]/g, '"');
            cleaned = cleaned.replace(/[‹›]/g, "'");
            cleaned = cleaned.replace(/…/g, '...');
            cleaned = cleaned.replace(/[—–]/g, '-');

            // Remove excessive line breaks
            cleaned = cleaned.replace(/\n{3,}/g, '\n\n');
            cleaned = cleaned.replace(/ +\n/g, '\n');
            cleaned = cleaned.replace(/\n +/g, '\n');

            // Final cleanup
            cleaned = cleaned.trim();
            cleaned = cleaned.replace(/\.([A-Z])/g, '. $1');
            cleaned = cleaned.replace(/[ ]{2,}/g, ' ');

            const charsRemoved = originalLength - cleaned.length;

            return {
                cleaned,
                stats: { spaces: spacesRemoved, breaks: breaksFixed, chars: charsRemoved }
            };
        }

        function handleClean() {
            if (state.dailyUses >= MAX_DAILY_USES) {
                showDailyLimitModal();
                return;
            }

            if (!state.inputText.trim()) {
                alert('Please paste some text first!');
                return;
            }

            if (state.inputText.length > MAX_CHARS) {
                alert(`Free tier limited to ${MAX_CHARS.toLocaleString()} characters. Join the waitlist for unlimited access!`);
                return;
            }

            const cleanBtn = document.getElementById('cleanBtn');
            const loader = document.getElementById('cleaningLoader');
            const outputDiv = document.getElementById('outputText');
            const progressContainer = document.getElementById('progressContainer');
            const progressBar = document.getElementById('progressBar');
           
            cleanBtn.disabled = true;
            progressContainer.classList.remove('hidden');
            loader.classList.add('show');
            progressBar.classList.add('show');
            outputDiv.style.opacity = '0.3';

            setTimeout(() => {
                const result = cleanText(state.inputText);
                state.outputText = result.cleaned;
                state.stats = result.stats;
               
                state.dailyUses++;
                saveDailyUses(state.dailyUses);

                loader.classList.remove('show');
                progressContainer.classList.add('hidden');
                progressBar.classList.remove('show');
                progressBar.style.width = '0%';
                
                outputDiv.style.opacity = '1';
                outputDiv.textContent = state.outputText;
                outputDiv.classList.add('fade-in-up');
               
                document.getElementById('statsBox').classList.remove('hidden');
                document.getElementById('copyBtn').classList.remove('hidden');
                document.getElementById('statSpaces').textContent = state.stats.spaces;
                document.getElementById('statBreaks').textContent = state.stats.breaks;
                document.getElementById('statChars').textContent = state.stats.chars;

                cleanBtn.disabled = false;
                updateUI();

                if (state.dailyUses >= MAX_DAILY_USES) {
                    setTimeout(() => showDailyLimitModal(), 1000);
                }
            }, 4000);
        }

        function handleCopy() {
            navigator.clipboard.writeText(state.outputText);
            const btn = document.getElementById('copyBtn');
            const originalHTML = btn.innerHTML;
            btn.innerHTML = `<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Copied!`;
            setTimeout(() => {
                btn.innerHTML = originalHTML;
            }, 2000);
        }

        function loadDemo() {
            document.getElementById('inputText').value = demoText;
            state.inputText = demoText;
            resetOutput();
            updateCharCount();
        }

        function loadLargeDemo() {
            document.getElementById('inputText').value = largeMessyText;
            state.inputText = largeMessyText;
            resetOutput();
            updateCharCount();
        }

        function resetOutput() {
            state.outputText = '';
            const outputDiv = document.getElementById('outputText');
            outputDiv.innerHTML = `<div class="text-gray-400 text-center mt-20"><p class="mb-2">👆 Click "Clean My Text" to see the magic!</p><p class="text-xs">Watch messy text transform instantly</p></div>`;
            document.getElementById('statsBox').classList.add('hidden');
            document.getElementById('copyBtn').classList.add('hidden');
        }

        function resetDailyLimit() {
            state.dailyUses = 0;
            saveDailyUses(0);
            updateUI();
            alert('Daily limit reset! You have 3 fresh uses.');
        }

        function updateCharCount() {
            const count = state.inputText.length;
            document.getElementById('charCount').textContent = `${count.toLocaleString()}/${MAX_CHARS.toLocaleString()}`;
        }

        function updateUI() {
            const usesLeft = Math.max(0, MAX_DAILY_USES - state.dailyUses);
            document.getElementById('usesLeft').textContent = `${usesLeft} of ${MAX_DAILY_USES} remaining`;
           
            if (usesLeft === 0) {
                document.getElementById('usageCounter').classList.add('hidden');
                document.getElementById('limitReached').classList.remove('hidden');
                document.getElementById('cleanBtn').disabled = true;
                document.getElementById('cleanBtn').innerHTML = `<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg> Daily Limit Reached`;
            } else {
                document.getElementById('usageCounter').classList.remove('hidden');
                document.getElementById('limitReached').classList.add('hidden');
                document.getElementById('cleanBtn').disabled = false;
                document.getElementById('cleanBtn').innerHTML = `<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg> Clean My Text ✨`;
            }

            if (state.dailyUses > 0) {
                document.getElementById('resetBtn').classList.remove('hidden');
            }
        }

        function scrollToApp() {
            document.getElementById('app-tool').scrollIntoView({ behavior: 'smooth' });
        }

        function showWaitlistModal() {
            document.getElementById('waitlistModal').classList.remove('hidden');
        }

        function hideWaitlistModal() {
            document.getElementById('waitlistModal').classList.add('hidden');
        }

        function showDailyLimitModal() {
            document.getElementById('dailyLimitModal').classList.remove('hidden');
        }

        function hideDailyLimitModal() {
            document.getElementById('dailyLimitModal').classList.add('hidden');
        }

        function handleModalBackdropClick(event, modalId) {
            if (event.target.id === modalId || event.target.id === 'waitlistModal') {
                if (modalId === 'dailyLimitModal') {
                    hideDailyLimitModal();
                } else {
                    hideWaitlistModal();
                }
            }
        }

        function submitWaitlist() {
            const email = document.getElementById('waitlistEmail').value;
            const browser = document.querySelector('input[name="browser"]:checked')?.value;

            if (!email || !browser) {
                alert('Please fill in all fields');
                return;
            }

            // Submit using hidden iframe method to bypass CORS
            const appsScriptURL = 'https://script.google.com/macros/s/AKfycby76mZmVLXHsPF_MlxDYqABB3S14BvdZRrWQH6XauK3_WC8D5lQ0ktvjsUdILWTEKo4/exec';
            
            // Create form
            const form = document.createElement('form');
            form.method = 'POST';
            form.action = appsScriptURL;
            form.target = 'hidden_iframe';
            form.style.display = 'none';
            
            // Add email field
            const emailInput = document.createElement('input');
            emailInput.type = 'hidden';
            emailInput.name = 'email';
            emailInput.value = email;
            form.appendChild(emailInput);
            
            // Add browser field
            const browserInput = document.createElement('input');
            browserInput.type = 'hidden';
            browserInput.name = 'browser';
            browserInput.value = browser;
            form.appendChild(browserInput);
            
            // Create hidden iframe
            let iframe = document.getElementById('hidden_iframe');
            if (!iframe) {
                iframe = document.createElement('iframe');
                iframe.name = 'hidden_iframe';
                iframe.id = 'hidden_iframe';
                iframe.style.display = 'none';
                document.body.appendChild(iframe);
            }
            
            // Submit form
            document.body.appendChild(form);
            form.submit();
            document.body.removeChild(form);
            
            console.log('✅ Waitlist submitted:', { email, browser });

            // Save locally
            const waitlistData = JSON.parse(localStorage.getItem('copycleaner_waitlist') || '[]');
            waitlistData.push({
                email,
                browser,
                timestamp: new Date().toISOString()
            });
            localStorage.setItem('copycleaner_waitlist', JSON.stringify(waitlistData));

            // Show success message
            document.getElementById('waitlistModal').innerHTML = `
                <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 relative animate-in">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-4">
                            <svg class="text-white w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-900 mb-3">You're on the list! 🎉</h3>
                        <p class="text-gray-600 mb-6">We'll email you at <strong>${email}</strong> when the ${browser} extension launches with your FREE 3-month trial.</p>
                        <button onclick="hideWaitlistModal()" class="w-full bg-indigo-600 text-white py-3 rounded-lg font-bold hover:bg-indigo-700 transition-colors">
                            Close
                        </button>
                    </div>
                </div>
            `;

            console.log('✅ Waitlist signup:', { email, browser });
        }

        function selectFeedback(type) {
            // FIXED: Capitalize the feedback type to match Google Form exactly
            selectedFeedbackType = type.charAt(0).toUpperCase() + type.slice(0); // "positive" -> "Positive"
            
            const upBtn = document.getElementById('thumbsUpBtn');
            const downBtn = document.getElementById('thumbsDownBtn');
            
            if (type === 'positive') {
                upBtn.classList.add('ring-2', 'ring-green-400', 'bg-green-100');
                downBtn.classList.remove('ring-2', 'ring-red-400', 'bg-red-100');
            } else {
                downBtn.classList.add('ring-2', 'ring-red-400', 'bg-red-100');
                upBtn.classList.remove('ring-2', 'ring-green-400', 'bg-green-100');
            }
            
            document.getElementById('feedbackTextBox').classList.remove('hidden');
        }

        function submitFeedback() {
            if (!selectedFeedbackType) {
                alert('Please select thumbs up or thumbs down first');
                return;
            }

            const feedbackText = document.getElementById('feedbackTextarea').value.trim();
            
            const feedback = JSON.parse(localStorage.getItem('copycleaner_feedback') || '{"positive": 0, "negative": 0, "comments": []}');
            feedback[selectedFeedbackType.toLowerCase()]++;
            
            if (feedbackText) {
                feedback.comments.push({
                    type: selectedFeedbackType,
                    text: feedbackText,
                    timestamp: new Date().toISOString()
                });
            }
            
            localStorage.setItem('copycleaner_feedback', JSON.stringify(feedback));
            
            // Submit using hidden iframe method to bypass CORS
            const appsScriptURL = 'https://script.google.com/macros/s/AKfycbxyJdKFxJjHYlj8xr7ipAOdevP5ToG0_1ggwitaCeInLS0HiGsrUxD4kdG0HlVsm-EMhw/exec';
            
            // Create form
            const form = document.createElement('form');
            form.method = 'POST';
            form.action = appsScriptURL;
            form.target = 'hidden_iframe_feedback';
            form.style.display = 'none';
            
            // Add feedbackType field
            const typeInput = document.createElement('input');
            typeInput.type = 'hidden';
            typeInput.name = 'feedbackType';
            typeInput.value = selectedFeedbackType;
            form.appendChild(typeInput);
            
            // Add feedbackText field
            const textInput = document.createElement('input');
            textInput.type = 'hidden';
            textInput.name = 'feedbackText';
            textInput.value = feedbackText;
            form.appendChild(textInput);
            
            // Create hidden iframe
            let iframe = document.getElementById('hidden_iframe_feedback');
            if (!iframe) {
                iframe = document.createElement('iframe');
                iframe.name = 'hidden_iframe_feedback';
                iframe.id = 'hidden_iframe_feedback';
                iframe.style.display = 'none';
                document.body.appendChild(iframe);
            }
            
            // Submit form
            document.body.appendChild(form);
            form.submit();
            document.body.removeChild(form);
            
            console.log('✅ Feedback submitted:', { feedbackType: selectedFeedbackType, feedbackText });
            
            const feedbackWidget = document.getElementById('feedbackWidget');
            feedbackWidget.classList.add('hidden');
            
            const statsBox = document.getElementById('statsBox');
            const thankYouHTML = `
                <div id="feedbackThanksMessage" class="mt-4 pt-4 border-t border-green-200 text-center fade-in-up">
                    <div class="bg-green-50 rounded-lg p-4 border-2 border-green-200">
                        <p class="text-green-600 font-bold text-lg mb-1">✓ Thank you for your feedback!</p>
                        <p class="text-green-700 text-sm">Your input helps us improve CopyCleaner.</p>
                    </div>
                </div>
            `;
            
            if (!document.getElementById('feedbackThanksMessage')) {
                statsBox.insertAdjacentHTML('beforeend', thankYouHTML);
            }
            
            console.log('📊 CopyCleaner Feedback:', feedback);
        }

        function renderFAQs() {
            const faqs = [
                {
                    q: "Is CopyCleaner free?",
                    a: "Yes! The web app is free with 3 cleans per day. Join our waitlist to get the browser extension with unlimited cleaning and a FREE 3-month trial when it launches."
                },
                {
                    q: "How is this different from 'Paste without formatting'?",
                    a: "Cmd+Shift+V only removes basic formatting. CopyCleaner fixes PDF line breaks, removes extra spaces, converts smart quotes, strips HTML tags, removes email signatures, cleans markdown from AI tools, and handles invisible characters. It's designed specifically for real-world formatting nightmares."
                },
                {
                    q: "Does it work with ChatGPT and AI text?",
                    a: "Absolutely! CopyCleaner is perfect for cleaning messy output from ChatGPT, Claude, Jasper, or any AI tool. It removes markdown formatting, weird spacing, and makes AI text look natural and professional."
                },
                {
                    q: "Why did my HTML/code get removed?",
                    a: "CopyCleaner removes HTML tags by design to give you clean, plain text. This is one of our core features for cleaning web content. If you need to work with code, use a code editor instead."
                },
                {
                    q: "Does my text get sent to a server?",
                    a: "No! All text cleaning happens in your browser. Your text never leaves your device, ensuring complete privacy. We don't see, store, or transmit your content."
                },
                {
                    q: "What browsers are supported?",
                    a: "The web app works in all modern browsers. The extension will be available for Chrome and Firefox - join the waitlist to get notified when it launches!"
                },
                {
                    q: "Does CopyCleaner work with 'Any Language'?",
                    a: "CopyCleaner works best with English and Latin-alphabet languages (Spanish, French, German, etc.). Support for non-Latin characters (Arabic, Chinese, Japanese) is limited."
                },
                {
                    q: "What's included in the browser extension?",
                    a: "The extension includes: unlimited cleans, no character limit, right-click context menu to clean any text, keyboard shortcuts (Cmd+Opt+V), paste history (last 50 cleans), and works offline. Waitlist members get a FREE 3-month trial!"
                },
                {
                    q: "How much does the extension cost?",
                    a: "After your FREE 3-month trial (for waitlist members), the extension is $4.99/month or $39/year (save 34%). Cancel anytime."
                },
                {
                    q: "When will the extension launch?",
                    a: "We're working hard on it! Join the waitlist to be the first to know when it's ready, and you'll get 3 months FREE when it launches."
                }
            ];

            const faqSection = document.getElementById('faqSection');
            faqs.forEach((faq, index) => {
                const faqDiv = document.createElement('div');
                faqDiv.className = 'bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden';
                faqDiv.innerHTML = `
                    <button onclick="toggleFaq(${index})" class="w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors">
                        <h4 class="text-lg font-bold text-gray-900 pr-4">${faq.q}</h4>
                        <svg id="faq-icon-${index}" class="w-5 h-5 text-gray-500 transition-transform flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                        </svg>
                    </button>
                    <div id="faq-answer-${index}" class="px-6 pb-4 text-gray-600 hidden animate-in">
                        ${faq.a}
                    </div>
                `;
                faqSection.appendChild(faqDiv);
            });
        }

        function toggleFaq(index) {
            const answer = document.getElementById(`faq-answer-${index}`);
            const icon = document.getElementById(`faq-icon-${index}`);
           
            if (answer.classList.contains('hidden')) {
                answer.classList.remove('hidden');
                icon.style.transform = 'rotate(180deg)';
            } else {
                answer.classList.add('hidden');
                icon.style.transform = 'rotate(0deg)';
            }
        }

        function shareWebsite() {
            const shareData = {
                title: 'CopyCleaner - Clean Messy Text Instantly',
                text: 'Check out CopyCleaner! It fixes messy text from PDFs, emails, and AI tools in one click.',
                url: window.location.href
            };

            if (navigator.share) {
                navigator.share(shareData).catch(() => {
                    copyToClipboard(window.location.href);
                    alert('Link copied to clipboard! Share it with your friends.');
                });
            } else {
                copyToClipboard(window.location.href);
                alert('Link copied to clipboard! Share it with your friends.');
            }
        }

        function copyToClipboard(text) {
            const textarea = document.createElement('textarea');
            textarea.value = text;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
        }

        // Mobile Menu Toggle Functions
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            const hamburgerIcon = document.getElementById('hamburgerIcon');
            const closeIcon = document.getElementById('closeIcon');
            
            if (mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.remove('hidden');
                hamburgerIcon.classList.add('hidden');
                closeIcon.classList.remove('hidden');
            } else {
                mobileMenu.classList.add('hidden');
                hamburgerIcon.classList.remove('hidden');
                closeIcon.classList.add('hidden');
            }
        }

        function closeMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            const hamburgerIcon = document.getElementById('hamburgerIcon');
            const closeIcon = document.getElementById('closeIcon');
            
            mobileMenu.classList.add('hidden');
            hamburgerIcon.classList.remove('hidden');
            closeIcon.classList.add('hidden');
        }

        // Close mobile menu when clicking outside
        document.addEventListener('click', function(event) {
            const mobileMenu = document.getElementById('mobileMenu');
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            
            if (!mobileMenu.contains(event.target) && !mobileMenuBtn.contains(event.target)) {
                closeMobileMenu();
            }
        });

        // Close mobile menu on scroll
        let lastScrollTop = 0;
        window.addEventListener('scroll', function() {
            const st = window.pageYOffset || document.documentElement.scrollTop;
            if (st > lastScrollTop + 50) { // Scrolling down
                closeMobileMenu();
            }
            lastScrollTop = st <= 0 ? 0 : st;
        }, false);

        // Initialize on page load
        init();
    </script>
</body>
</html>
